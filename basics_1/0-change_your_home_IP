#!/usr/bin/env bash
# Update /etc/hosts so that localhost resolves to 127.0.0.2 and facebook.com to 8.8.8.8

# Ensure the script is run as root
if [ "$EUID" -ne 0 ]; then
    echo "Please run as root"
    exit 1
fi

# Backup current /etc/hosts
cp /etc/hosts /etc/hosts.bak

# Remove existing lines for localhost and facebook.com
grep -v -E 'localhost|facebook\.com' /etc/hosts > /tmp/hosts.new

# Add updated lines
echo "127.0.0.2 localhost" >> /tmp/hosts.new
echo "8.8.8.8 facebook.com" >> /tmp/hosts.new

# Move updated hosts file into place
mv /tmp/hosts.new /etc/hosts